<Window
    x:Class="ABX.Hub.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
    Title="ABX – Hub"
    MinWidth="1024"
    MinHeight="720"
    Loaded="Window_Loaded"
    WindowStartupLocation="CenterScreen"
    WindowState="Maximized">

    <Grid>
        <Grid.RowDefinitions>
            <!--  Hàng header chứa hub.html (ban đầu full màn hình)  -->
            <RowDefinition x:Name="HeaderRow" Height="*" />
            <!--  Hàng plugin (ban đầu ẩn)  -->
            <RowDefinition x:Name="ContentRow" Height="0" />
        </Grid.RowDefinitions>

        <!--  Header WebView2: KHÔNG đặt Height cố định, để Stretch theo HeaderRow  -->
        <Border Grid.Row="0" Background="{DynamicResource {x:Static SystemColors.ControlBrushKey}}">
            <wv2:WebView2
                x:Name="WvHeader"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch" />
        </Border>

        <!--  Vùng gắn UserControl của plugin  -->
        <ContentControl
            x:Name="PluginHost"
            Grid.Row="1"
            HorizontalContentAlignment="Stretch"
            VerticalContentAlignment="Stretch" />
    </Grid>
</Window>
